version: "3.8"

services:

  db:
    # image: postgres
    # Building will install the TimescaleDB extension for Postgres
    build:
      context: ./postgres
    container_name: postgres-db-container
    restart: always
    ports:
      - "5433:5432"
    volumes:
      - "./postgres/data:/var/lib/postgresql/data:Z"
      - "./postgres/config:/etc/postgresql/config:Z"
    command:
      - "-c"
      - "config_file=/etc/postgresql/config/postgresql.conf"
    # networks:
    #   - db-net
    environment:
      POSTGRES_PASSWORD: example
      POSTGRES_USER: postgres
      PGDATA: /var/lib/postgresql/data/pgdata

  adminer:
    image: adminer
    container_name: adminer-container
    restart: always
    depends_on:
      - db
    # networks:
    #   - db-net
    ports:
      - "8080:8080"

# networks:
#     db-net: